<!--{% load staticfiles %}-->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-U A-Compatible" content="IE=edge">
    <title>Resultados REIM | Dashboard</title>
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/font-awesome.css' %}" rel="stylesheet">
    <!-- Toastr style -->
    <link href="{% static 'css/plugins/toastr/toastr.min.css' %}" rel="stylesheet">
    <!-- Gritter -->
    <link href="{% static 'css/plugins/gritter/jquery.gritter.css' %}" rel="stylesheet">
    <link href="{% static 'css/animate.css' %}" rel="stylesheet">
    <link href="{% static 'css/style.css' %}" rel="stylesheet">
    <link href="{% static 'css/clockpicker.css' %}" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.min.js"></script>
    <!--script src="path/to/chartjs/dist/Chart.js"></script-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
    <style type="text/css">
        .descriptionBottom{
            text-align: center;
            margin-top: 20px;
            font-size: 15px;
            background-color: #DEDEDE;
        }
    </style>
</head>
<body>
<div id="wrapper">
    <nav class="navbar-default navbar-static-side" role="navigation">
        <div class="sidebar-collapse">
            <ul class="nav metismenu" id="side-menu">
                <li class="nav-header">
                    <div class="dropdown profile-element">
                        <img alt="image" class="rounded-circle" src="{% static 'img/profile_small.jpg' %}"/>
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <span class="block m-t-xs font-bold">{{request.user.first_name}}</span>
                            <span class="text-muted text-xs block">Opciones <b class="caret"></b></span>
                        </a>
                        <ul class="dropdown-menu animated fadeInRight m-t-xs">
                            <li class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="/logout">Cerrar sesi√≥n</a></li>
                        </ul>
                    </div>
                    <div class="logo-element">
                        Reim
                    </div>
                </li>
                <li class="active">
                    <a href="index.html"><i class="fa fa-th-large"></i> <span class="nav-label">Dashboards</span> <span class="fa arrow"></span></a>
                    <ul class="nav nav-second-level">
                        <!--<li class="active"><a href="index.html">Dashboard</a></li>
                        --> </ul>
                </li>
            </ul>
        </div>
    </nav>

    <div id="page-wrapper" class="gray-bg dashbard-1">
        <div class="row  border-bottom white-bg dashboard-header">
            <div class="navbar-header">
                <a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="#"><i class="fa fa-bars"></i> </a>
                <form role="search" class="navbar-form-custom" action="search_results.html">
                    <div class="form-group">
                        <!--<input type="text" placeholder="Search for something..." class="form-control" name="top-search" id="top-search">-->
                    </div>
                </form>
            </div>
            <div class="col-md-12">
                <div class="inbox float-e-margins">
                    <div class="inbox-title">
                        <div class="selector-colegio" >
                            <form>
                                <div class="row  border-bottom white-bg dashboard-header">
                                    <div class="col-md-3">
                                        <label  class="font-normal">Colegio</label>
                                        <select id="school-filter-selector" name="school" class="form-control m-b">
                                            {% if schools|length == 0 or schools|length >= 1 %}
                                            <option value ="0" >Seleccione Colegio</option >
                                            {% endif %}
                                            {% if schools %}
                                            {% for school in schools %}
                                            <option value ={{school.id}}>{{ school.name }}</option >
                                            {% endfor %}
                                            {% endif %}
                                        </select>
                                    </div>
                                    <div  class="col-md-3">
                                        <label class="font-normal">Nivel</label>
                                        <select id="nivel-filter-selector" name="nivel" class="form-control m-b">
                                            {% if letras|length == 0 or letras|length >= 1 %}
                                            <option value ="0" >Seleccione Curso</option>
                                            {% endif %}
                                            {% if niveles %}
                                            {% for nivel in niveles %}
                                            <option value ={{nivel.id}}>{{nivel.name}}</option>
                                            {% endfor %}
                                            {% endif %}
                                        </select>
                                    </div>
                                    <div  class="col-md-3">
                                        <label class="font-normal">Letra</label>
                                        <select  id="letra-filter-selector" name="letra" class="form-control m-b">
                                            {% if letras|length == 0 or letras|length >= 1 %}
                                            <option value ="0" >Seleccione Curso</option>
                                            {% endif %}
                                            {% if letras %}
                                            {% for letra in letras %}
                                            <option value ={{letra.id}}>{{letra.name}}</option>
                                            {% endfor %}
                                            {% endif %}
                                        </select>
                                    </div>


                                    <div class="col-md-3">
                                        <label  class="font-normal">Reim</label>
                                        <select onchange="this.form.submit()" id="reim-filter-selector" name="reim" class="form-control m-b">

                                            {% if reims|length == 0 or reims|length >= 1 %}
                                            <option value="0">Seleccione Reim</option>
                                            {% endif %}
                                            {% if reims %}
                                            {% for reim in reims %}
                                            <option value={{reim.id}}>{{ reim.name }}</option>
                                            {% endfor %}
                                            {% endif %}
                                        </select>
                                    </div>
                                    <div  class="col-md-3">
                                        <label  class="font-normal">Actividad</label>
                                        <select id="activity-filter-selector" name="activity" class="form-control m-b">
                                            <option value ="0">Seleccione Actividad</option>
                                            {% if activities %}
                                            {% for activity in activities %}
                                            <option value ={{activity.id}}>{{activity.name}}</option>
                                            {% endfor %}
                                            {% endif %}
                                        </select>
                                    </div>
                                    <div  class="col-md-4">
                                        <label  class="font-normal">Alumno</label>
                                        <select id="student-filter-selector" name="student" class="form-control m-b">
                                            <option value ="0">Seleccione Alumno</option>
                                            {% if students %}
                                            {% for student in students %}
                                            <option value ={{student.id}}>{{student.name}}</option>
                                            {% endfor %}
                                            {% endif %}
                                        </select>
                                    </div>
                                    <div  class="col-md-8">
                                        <div  class="ibox float-e-margins">
                                            <div  class="form-group" id="data_5">
                                                <label  class="font-normal">Rango de fecha</label>
                                                <div  class="input-daterange input-group" id="datepicker">
                                                    <span class="input-group-addon">Desde</span>
                                                    <span  class="input-group-addon"><i class="fa fa-calendar"></i></span><input onchange="this.form.submit()" style="width:120" type="text" class="input-sm form-control" name="start" id="start-filter-selector" data-provide="datepicker" data-date-format="dd/mm/yyyy" value="dd/mm/aaaa"/>
                                                    <span class="input-group-addon">Hasta</span>
                                                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span><input onchange="this.form.submit()" style="width:120px" type="text" class="input-sm form-control" name="end" id="end-filter-selector" data-provide="datepicker" data-date-format="dd/mm/yyyy" value="dd/mm/aaaa"/>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                    <p class="col-lg-12">
                                        <button class="btn btn-sm btn-primary m-t-n-xs float-right"><i class="fa fa-filter"></i> Filtrar</button>
                                        <a href="/" class="btn btn-sm btn-secondary m-t-n-xs float-right" style="margin-right: 5px"><i class="fa fa-trash"></i> Limpiar</a>
                                    </p>
                <div>
                    <strong>Copyright</strong>  &copy; 2021


                    <button type="button" class="btn btn-link btn-sm" data-toggle="modal" data-target="#queriesModal">
                        queries
                    </button>

                    <div class="modal fade" id="queriesModal" tabindex="-1" role="dialog" aria-labelledby="queriesModalTitle" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="queriesModalTitle">Generated queries</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <ul>
                                        {% for query in queries %}
                                        <li><strong>{{query.name}}</strong>: {{query.query}}</li>
                                        {% endfor %}
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Mainly scripts -->
    <script src="{% static 'js/jquery-3.1.1.min.js' %}"></script>
    <script src="{% static 'js/popper.min.js' %}"></script>
    <script src="{% static 'js/bootstrap.js' %}"></script>
    <script src="{% static 'js/plugins/metisMenu/jquery.metisMenu.js' %}"></script>
    <script src="{% static 'js/plugins/slimscroll/jquery.slimscroll.min.js' %}"></script>
    <!-- Flot -->
    <script src="{% static 'js/plugins/flot/jquery.flot.js' %}"></script>
    <script src="{% static 'js/plugins/flot/jquery.flot.tooltip.min.js' %}"></script>
    <script src="{% static 'js/plugins/flot/jquery.flot.spline.js' %}"></script>
    <script src="{% static 'js/plugins/flot/jquery.flot.resize.js' %}"></script>
    <script src="{% static 'js/plugins/flot/jquery.flot.pie.js' %}"></script>
    <!-- Peity -->
    <script src="{% static 'js/plugins/peity/jquery.peity.min.js' %}"></script>
    <script src="{% static 'js/demo/peity-demo.js' %}"></script>
    <!-- Custom and plugin javascript -->
    <script src="{% static 'js/inspinia.js' %}"></script>
    <script src="{% static 'js/plugins/pace/pace.min.js' %}"></script>
    <!-- jQuery UI -->
    <script src="{% static 'js/plugins/jquery-ui/jquery-ui.min.js' %}"></script>
    <!-- GITTER -->
    <script src="{% static 'js/plugins/gritter/jquery.gritter.min.js' %}"></script>
    <!-- Sparkline -->
    <script src="{% static 'js/plugins/sparkline/jquery.sparkline.min.js' %}"></script>
    <!-- Sparkline demo data  -->
    <script src="{% static 'js/demo/sparkline-demo.js' %}"></script>
    <!-- ChartJS-->
    <script src="{% static 'js/plugins/chartJs/Chart.min.js' %}"></script>
    <script src="{% static 'js/plugins/chartJs/chartjs-plugin-annotation/chartjs-plugin-annotation.min.js' %}"></script>
    <!-- Toastr -->
    <script src="{% static 'js/plugins/toastr/toastr.min.js' %}"></script>
    <!-- Date range picker -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
    <!--FILTRO POR Hora-->
     <script src="{% static 'js/clockpicker.js' %}"> </script>
    <script type="text/javascript">
        $('.clockpicker').clockpicker();
    </script>
    <!--FILTRO POR Hora-->

    <script>
        $('.datepicker').datepicker({
        });
    </script>

    <script>

        var originalLineDraw = Chart.controllers.horizontalBar.prototype.draw;
        Chart.helpers.extend(Chart.controllers.horizontalBar.prototype, {
  
        draw: function () {
          originalLineDraw.apply(this, arguments);
  
          var chart = this.chart;
          var ctx = chart.chart.ctx;
  
          var index = chart.config.options.lineAtIndex;
          if (index) {
  
              var xaxis = chart.scales['x-axis-0'];
              var yaxis = chart.scales['y-axis-0'];
  
              var x1 = xaxis.getPixelForValue(index);                       
              var y1 = yaxis.top;                                                   
  
              var x2 = xaxis.getPixelForValue(index);                       
              var y2 = yaxis.bottom;                                        
  
              ctx.save();
              ctx.beginPath();
              ctx.moveTo(x1, y1);
              ctx.strokeStyle = 'green';
              ctx.lineTo(x2, y2);
              ctx.stroke();
  
              ctx.restore();
            
          }
          var index = chart.config.options.lineAtIndex1;
          if (index) {
  
              var xaxis = chart.scales['x-axis-0'];
              var yaxis = chart.scales['y-axis-0'];
  
              var x1 = xaxis.getPixelForValue(index);                       
              var y1 = yaxis.top;                                                   
  
              var x2 = xaxis.getPixelForValue(index);                       
              var y2 = yaxis.bottom;                                        
  
              ctx.save();
              ctx.beginPath();
              ctx.moveTo(x1, y1);
              ctx.strokeStyle = 'red';
              ctx.lineTo(x2, y2);
              ctx.stroke();
  
              ctx.restore();
            
          }
          var index3 = chart.config.options.promedioSaltos;
          if (index3) {
  
              var xaxis = chart.scales['x-axis-0'];
              var yaxis = chart.scales['y-axis-0'];
  
              var x1 = xaxis.getPixelForValue(index3);                       
              var y1 = yaxis.top;                                                   
  
              var x2 = xaxis.getPixelForValue(index3);                       
              var y2 = yaxis.bottom;                                        
  
              ctx.save();
              ctx.beginPath();
              ctx.moveTo(x1, y1);
              ctx.strokeStyle = 'rgb(207,52,118)';
              ctx.lineTo(x2, y2);
              ctx.stroke();
  
              ctx.restore();
            
          }

          var index4 = chart.config.options.promedioCorrectasCO;
          if (index4) {
  
              var xaxis = chart.scales['x-axis-0'];
              var yaxis = chart.scales['y-axis-0'];
  
              var x1 = xaxis.getPixelForValue(index4);                       
              var y1 = yaxis.top;                                                   
  
              var x2 = xaxis.getPixelForValue(index4);                       
              var y2 = yaxis.bottom;                                        
  
              ctx.save();
              ctx.beginPath();
              ctx.moveTo(x1, y1);
              ctx.strokeStyle = 'rgb(87,35,100)';
              ctx.lineTo(x2, y2);
              ctx.stroke();
  
              ctx.restore();
            
          }
          var index5 = chart.config.options.promedioIncorrectasCO;
          if (index5) {
  
              var xaxis = chart.scales['x-axis-0'];
              var yaxis = chart.scales['y-axis-0'];
  
              var x1 = xaxis.getPixelForValue(index5);                       
              var y1 = yaxis.top;                                                   
  
              var x2 = xaxis.getPixelForValue(index5);                       
              var y2 = yaxis.bottom;                                        
  
              ctx.save();
              ctx.beginPath();
              ctx.moveTo(x1, y1);
              ctx.strokeStyle = 'rgb(0,255,255)';
              ctx.lineTo(x2, y2);
              ctx.stroke();
  
              ctx.restore();
            
          }
          
      }
  });

        var SPACE_HorizontalBarOptions = {
            animation: false,
            isFixedWidth:true,
            barWidth:50,
            barValueSpacing: 1,
            scales: {
                xAxes: [{
                    ticks: {
                        min: 0,
                        callback: function (value, index, values) {
                            if (Math.floor(value) === value) {
                                return value;
                            }
                        }
                    },
                }],
            },
            display: true,
        };

    </script>
</body>
</html>